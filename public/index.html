<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boop Online</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <header class="game-header">
            <h1 class="game-title">🐱 Boop Online</h1>
        </header>

        <main class="game-main">
            <!-- Player Info Card -->
            <div class="info-card player-info-card">
                <div id="player-id-display" class="player-display">Verbinde...</div>
                <div id="current-player-display" class="turn-display">Warten auf Spieler...</div>
            </div>

            <!-- Supply Info Card -->
            <div class="info-card supply-card">
                <div id="supply-display" class="supply-display">Vorrat wird geladen...</div>
            </div>

            <!-- Status Messages -->
            <div id="status-message" class="status-message"></div>

            <!-- Piece Selection Card -->
            <div class="info-card piece-selection-card">
                <h3 class="selection-title">Figur wählen:</h3>
                <div id="piece-selection" class="piece-selection">
                    <label class="piece-option">
                        <input type="radio" name="pieceType" value="kitten" checked>
                        <span class="piece-label">
                            <span class="piece-icon">🐱</span>
                            Kätzchen
                        </span>
                    </label>
                    <label class="piece-option">
                        <input type="radio" name="pieceType" value="cat">
                        <span class="piece-label">
                            <span class="piece-icon">🐈</span>
                            Katze
                        </span>
                    </label>
                </div>
            </div>

            <!-- Special Promotion Area -->
            <div id="specialPromotionOfferArea" class="special-promotion-area" style="display: none;">
                <div class="promotion-card">
                    <h3>🌟 Besondere Beförderung!</h3>
                    <p id="specialPromotionMessage" class="promotion-message">
                        Klicke auf eines deiner Kätzchen, um es zu einer Katze zu befördern!
                    </p>
                </div>
            </div>

            <!-- Timer Display -->
            <div class="info-card timer-card">
                <div id="timer-display" class="timer-display"></div>
            </div>

            <!-- Game Board -->
            <div class="board-container">
                <div id="game-board" class="game-board">
                    <!-- Cells will be generated by JavaScript -->
                </div>
            </div>

            <!-- Invite Link Card -->
            <div class="info-card invite-card">
                <h3 class="invite-title">Freund einladen:</h3>
                <div class="invite-link-container">
                    <a id="invite-link" href="#" class="invite-link">Lädt...</a>
                    <button class="copy-button" onclick="copyInviteLink()">📋 Kopieren</button>
                </div>
            </div>
        </main>

        <section id="rules-overview" class="rules-card">
            <h2>Spielregeln im Überblick</h2>

            <h4>Spielziel</h4>
            <p>Gewonnen hat, wer zuerst eines der folgenden Ziele erreicht:</p>
            <ul>
                <li>Drei eigene Katzen in einer horizontalen, vertikalen oder diagonalen Reihe zu platzieren.</li>
                <li>Alle acht eigenen Katzen auf dem Spielbrett platziert zu haben.</li>
            </ul>

            <h4>Spielstart &amp; Figuren setzen</h4>
            <p>Jeder Spieler beginnt mit 8 Kätzchen im Vorrat. Abwechselnd platzieren die Spieler eine ihrer Figuren (Kätzchen oder Katze aus dem Vorrat) auf ein leeres Feld des 6x6 Spielbretts.</p>

            <h4>Booping (Anstoßen von Figuren)</h4>
            <ul>
                <li>Wird eine Figur platziert, stößt sie alle direkt angrenzenden Figuren (eigene und gegnerische) ein Feld von sich weg.</li>
                <li><strong>Kätzchen</strong> können nur andere <strong>Kätzchen</strong> boopen.</li>
                <li><strong>Katzen</strong> können sowohl <strong>Kätzchen</strong> als auch <strong>Katzen</strong> boopen.</li>
                <li>Eine Figur wird nicht gebooped, wenn das Zielfeld (das Feld, auf das sie geschoben würde) bereits von einer anderen Figur besetzt ist. In diesem Fall bleibt die zu boopende Figur stehen.</li>
                <li>Figuren, die über den Rand des Spielbretts gebooped werden, kommen zurück in den Vorrat ihres Besitzers.</li>
            </ul>

            <h4>Kätzchen zu Katzen aufwerten (Promotion)</h4>
            <p>Bilden drei <strong>Kätzchen</strong> eines Spielers eine durchgehende Reihe (horizontal, vertikal oder diagonal), werden alle Kätzchen innerhalb dieser Dreiergruppe zu Katzen aufgewertet und kommen in den Vorrat des Spielers. Von dort können sie platziert werden.</p>

            <h4>Sonderaktion: Alle Figuren auf dem Brett</h4>
            <p>Hat ein Spieler alle seine 8 Figuren auf dem Brett platziert (d.h. keine Figuren mehr im Vorrat zum Setzen), darf er als Sonderaktion ein eigenes Kätzchen vom Spielfeld nehmen. Dafür erhält er eine Katze in seinen Vorrat, die er in einem seiner nächsten Züge platzieren kann.</p>
        </section>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="script.js"></script>
</body>
</html>
